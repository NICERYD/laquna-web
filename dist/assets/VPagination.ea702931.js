import{r as a,bt as e,p as t,I as i,ai as l,m as s,n,aj as r,ak as o,aB as u,a as v,al as p,am as d,g as f,q as c,b5 as g,u as b,an as y,b as L,x as m,d as x,c as h,v as _,f as A,h as I,l as P,bP as k,bQ as V,aF as S}from"./index.72a7fa6d.js";import{V as $}from"./VBtn.55001947.js";const B=t({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:a=>a.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:a=>a%1==0},totalVisible:[Number,String],firstIcon:{type:i,default:"$first"},prevIcon:{type:i,default:"$prev"},nextIcon:{type:i,default:"$next"},lastIcon:{type:i,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...l(),...s(),...n(),...r(),...o(),...u(),...v({tag:"nav"}),...p(),...d({variant:"text"})},"v-pagination"),C=f()({name:"VPagination",props:B(),emits:{"update:modelValue":a=>!0,first:a=>!0,prev:a=>!0,next:a=>!0,last:a=>!0},setup(t,i){let{slots:l,emit:s}=i;const n=c(t,"modelValue"),{t:r,n:o}=g(),{isRtl:u}=b(),{themeClasses:v}=y(t),{width:p}=L(),d=a(-1);m(void 0,{scoped:!0});const{resizeRef:f}=x((a=>{if(!a.length)return;const{target:e,contentRect:t}=a[0],i=e.querySelector(".v-pagination__list > *");if(!i)return;const l=t.width,s=i.offsetWidth+2*parseFloat(getComputedStyle(i).marginRight);d.value=w(l,s)})),B=h((()=>parseInt(t.length,10))),C=h((()=>parseInt(t.start,10))),F=h((()=>t.totalVisible?parseInt(t.totalVisible,10):d.value>=0?d.value:w(p.value,58)));function w(a,e){const i=t.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((a-e*i)/e).toFixed(2)))}const N=h((()=>{if(B.value<=0||isNaN(B.value)||B.value>Number.MAX_SAFE_INTEGER)return[];if(F.value<=1)return[n.value];if(B.value<=F.value)return k(B.value,C.value);const a=F.value%2==0,e=a?F.value/2:Math.floor(F.value/2),i=a?e:e+1,l=B.value-e;if(i-n.value>=0)return[...k(Math.max(1,F.value-1),C.value),t.ellipsis,B.value];if(n.value-l>=(a?1:0)){const a=F.value-1,e=B.value-a+C.value;return[C.value,t.ellipsis,...k(a,e)]}{const a=Math.max(1,F.value-3),e=1===a?n.value:n.value-Math.ceil(a/2)+C.value;return[C.value,t.ellipsis,...k(a,e),t.ellipsis,B.value]}}));function M(a,e,t){a.preventDefault(),n.value=e,t&&s(t,e)}const{refs:R,updateRef:D}=function(){const t=a([]);return e((()=>t.value=[])),{refs:t,updateRef:function(a,e){t.value[e]=a}}}();m({VPaginationBtn:{color:_(t,"color"),border:_(t,"border"),density:_(t,"density"),size:_(t,"size"),variant:_(t,"variant"),rounded:_(t,"rounded"),elevation:_(t,"elevation")}});const j=h((()=>N.value.map(((a,e)=>{const i=a=>D(a,e);if("string"==typeof a)return{isActive:!1,key:`ellipsis-${e}`,page:a,props:{ref:i,ellipsis:!0,icon:!0,disabled:!0}};{const e=a===n.value;return{isActive:e,key:a,page:o(a),props:{ref:i,ellipsis:!1,icon:!0,disabled:!!t.disabled||+t.length<2,color:e?t.activeColor:t.color,ariaCurrent:e,ariaLabel:r(e?t.currentPageAriaLabel:t.pageAriaLabel,a),onClick:e=>M(e,a)}}}})))),z=h((()=>{const a=!!t.disabled||n.value<=C.value,e=!!t.disabled||n.value>=C.value+B.value-1;return{first:t.showFirstLastPage?{icon:u.value?t.lastIcon:t.firstIcon,onClick:a=>M(a,C.value,"first"),disabled:a,ariaLabel:r(t.firstAriaLabel),ariaDisabled:a}:void 0,prev:{icon:u.value?t.nextIcon:t.prevIcon,onClick:a=>M(a,n.value-1,"prev"),disabled:a,ariaLabel:r(t.previousAriaLabel),ariaDisabled:a},next:{icon:u.value?t.prevIcon:t.nextIcon,onClick:a=>M(a,n.value+1,"next"),disabled:e,ariaLabel:r(t.nextAriaLabel),ariaDisabled:e},last:t.showFirstLastPage?{icon:u.value?t.firstIcon:t.lastIcon,onClick:a=>M(a,C.value+B.value-1,"last"),disabled:e,ariaLabel:r(t.lastAriaLabel),ariaDisabled:e}:void 0}}));function E(){var a;const e=n.value-C.value;null==(a=R.value[e])||a.$el.focus()}function q(a){a.key===V.left&&!t.disabled&&n.value>+t.start?(n.value=n.value-1,S(E)):a.key===V.right&&!t.disabled&&n.value<C.value+B.value-1&&(n.value=n.value+1,S(E))}return A((()=>I(t.tag,{ref:f,class:["v-pagination",v.value,t.class],style:t.style,role:"navigation","aria-label":r(t.ariaLabel),onKeydown:q,"data-test":"v-pagination-root"},{default:()=>[I("ul",{class:"v-pagination__list"},[t.showFirstLastPage&&I("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[l.first?l.first(z.value.first):I($,P({_as:"VPaginationBtn"},z.value.first),null)]),I("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[l.prev?l.prev(z.value.prev):I($,P({_as:"VPaginationBtn"},z.value.prev),null)]),j.value.map(((a,e)=>I("li",{key:a.key,class:["v-pagination__item",{"v-pagination__item--is-active":a.isActive}],"data-test":"v-pagination-item"},[l.item?l.item(a):I($,P({_as:"VPaginationBtn"},a.props),{default:()=>[a.page]})]))),I("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[l.next?l.next(z.value.next):I($,P({_as:"VPaginationBtn"},z.value.next),null)]),t.showFirstLastPage&&I("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[l.last?l.last(z.value.last):I($,P({_as:"VPaginationBtn"},z.value.last),null)])])]}))),{}}});export{C as V};
